======================================================================
「目で楽しむ物理シミュレーション」について 
                                              Mar.10.2011 Namio MATUDA
======================================================================

究極の簡単さを目指すEGGX/ProCallがとても気に入ったので，動きがあって楽
しめるデモを考えました．私は物理屋なので，当然のごとく物理シミュレーショ
ンしか頭に浮かびません．内容を簡単に説明します．

----------------------------------------------------------------------

3body_pythagoras　有名な三体問題の例です．三辺の比が整数となる直角三角形
の頂点に対辺の長さに比例した質点を静止させ，運動を開始させるものです．


ca　セルオートマトンによるライフゲーム．密度をパラメータにしたランダム
な配置から出発します．また，移動体 glider をいくつか配置させた初期状態，
あるいは puffer train を1台配置させた初期状態を設定することもできます．


collison 　気体分子が熱平衡状態にあるときには，Maxwell-Boltzmann速度分
布を形成するという統計力学の原理を実感するためのもの．一様な初期速度分
布から出発して，適当な分子対を弾性衝突（剛体球モデル）させ，運動量を変
化させていくと，あーら不思議，Maxwell-Boltzmann分布に勝手に近づいていく
じゃありませんか．分子間相互作用を真面目なLenard-JonesやMorseにすべきか
もしれませんが，本質は相互作用がランダムにあれば良いということなのでしょ
う．


collision_3dxpm　collision_xpmの3次元版です．Xの負荷が高くなりますが，
それなり楽しめます．


collision_xpm 　coliisionの分子をfillcirc()で描いていた円からputimg24m
の透明背景xpm画像（斜めに光があったった球の）に変えたもの．


collision_circle　2次元平面において二つの円の壁で弾性衝突される粒子の
速度分布のx成分（もしくはy成分）がM-B分布に近づくというもの．


coupled_oscillation 　バネで連結された2つの質点の連成振動．質点間で運動
エネルギーが行きしますが，質量が同じなので片方の運動エネルギーが完全に
0となる瞬間があります．真ん中のバネ定数を変えると移動の周期も変わります．


dla 　拡散に支配された凝集（Diffusion-Limited Aggregation）による結晶成
長．中央においた核に，ランダムウォークしている分子がくっついて結晶が成
長するというモデルです．成長途中の結晶より少し大きな半径（制御窓の
radius inc.）を持つ円周上に分子源を設定し，効率をあげます．凝集確率も1
より小さく変化させられるようにしましたが，時間がかかるばかりで出来上が
る結晶の幾何形状にあまり変化がみられません．何か勘違いしているかもしれ
ません．Run 中にはマウスボタンが効きません，'q'キーで中断します．


dla_line 　dlaに同じですが，核を線状にしたものです．


double_pendulum 　２重振り子．初期角を大きくするとカオスになることが知
られています．微分方程式の数値解法は陽的な4次ルンゲ=クッタ法を用いてい
るの正確ではありません．シンプレクティック法などに切り替えられるように
オプションを追加したいと計画しています


drum　円形膜の固有振動のアニメーション．次数に応じて節が変化する様子が
判ります．山内さんからのアドバイスに従って，イメージバッファに図を用意
しgputimageで描画する方式に変更しました．これでXの負荷が激減します．


duffing　カオスが生ずる振動系．3次の非線形項がある減衰振動系に外力を加
えて励振すると，多くの場合は外力の振動数の定常状態に落ち着くが，条件に
よってはカオスが出現します．位相図とポアンカレ図を描くと違いが明らかに
なります．


EBdrift　プラズマ物理学の基本事項の一つ「イービードリフト」です．直交
する磁場と電場内で運動する荷電粒子は磁場に巻きつき，電場の方向ではなく，
電場と磁場それぞれに直交する方向に移動していき，全体として螺旋運動する
というものです．挙動を把握するには3次元鳥瞰図が必要です．


elastic_pendulum　弾性振り子．２重振り子と並んでカオスとなることが知ら
れています．これも数値解析エンジンが陽的4次ルンゲ=クッタなので不正確で
す．

gears3d_ctrl 回転する3つの歯車がフレームで描かれます．簡易3次元のデモ
です．

lorenz　duffingと並んでカオティックな振動状態が出現するとして最もよく知
られた系．3次元に変更しました．


missile　一定速度で航行する標的を，常にこの標的に向いた一定速度のミサイ
ルで撃ち落とすというもの．解析的にも解は求められ，追跡線と呼ばれます．


leaf　フラクタル図形のデモ：これは一次変換による自己相似の例です．複素
数を用いると一次変換であることがはっきりします．


particle　2種類の分子をランダムに動かしているだけの単なるデモです．分
子数は500個ですが，3GHzのi686互換のCPUなら1000まで平気ですね．


river　河を渡る船の問題．河の流れの速度よりも速くないと向こう岸にたど
りつきません．前述のmissileと同じ種類の問題．


rod_ctrl 滑らかな水平床に斜めに立てた棒が床に接触しながら倒れる様子の
シミュレーションです．エネルギー保存法則より，任意の角度における角速度
などは計算できますから，倒れる（水平になる）瞬間の角速度は求まり，剛体
の運動の演習問題としても有名です．しかし，角度を時間の関数として求める
のは学部生の域を越えており，計算機シミュレーションに適しています．


rossler　lorenzとおなじくカオティックな軌跡を生ずるシステムです．3次元
の鳥瞰図が描けるように簡単な関数を作成し，e_3d.hにまとめました．仕様が
が固まってないので詳しくは説明しませんが，単に3次元の座標点(x,y,z)を
2次元の座標(u,v)に変換して，平行投影しているだけのものです．もちろん，
uが水平軸，vが鉛直軸です．


schiff　量子力学における超有名なデモ．シッフの教科書にある波束がポテン
シャルの壁（または谷）を通過する様子を描いたアニメーション．波動関数の
偏角（位相）を色で表現しています．これはネットサーフィンしていて「おっ」
と思ったものです．物理的な意味がちょっと判らないところもあるのですが，
派手なプレゼンに仕上がりました．


slope　台の斜面を質点が滑り降りるだけですが，台も動くとなると大学入試問
題としては結構時間のかかるものです．質量比と斜面の傾角を変えられるよう
にしました．台の画像は四角形ですが，それを背景色でトリミングして斜面に
見せています．


snowfall　フラクタル樹木に雪が舞うデモ．角度にランダムネスを与えて，現
実感を出すようにしました．山内さんが，背景にグラデーションをかけ，雪も
樹の向こうとこちら側とに分けて描画するように改変してくださいました．


snowfall_photo　透過背景画像の木に雪が降るデモ．マウス制御窓がなく，キー
入力で制御します．時々'c'を打ってと画面に表示されますが，その通り'c'を
打つと（暗めの）背景色がランダムに変化します．'q'で終了．雪もチラチラする
よう6つの画像が切り替わっています．


sphere　球に光が当たった様子を描くデモ．マウスの位置から光が入射してい
るように見えると思います．これは，他のシミュレーションにおいて，xpmを使
わずに立体的な球を描画できないかと目論んで作成したものです．点の描画の
負荷が高く小さいもの数個ならなんとか速度が足りますが，実用は無理と諦め
ました．が，惜しいので無理やりデモに仕上げました．
　山内さんが，滑らかな動きを得るようにマウス通知を使う方法に改良してく
ださいました．


stolen_planet　いわゆる３体問題の例題として，太陽系に太陽と同じ質量の星
が飛来して過ぎ去る際，条件よっては惑星がもぎ取られてしまう場合があること
を示したものです．天文単位では，地球の質量，太陽地球間の平均距離，地球の
公転周期がそれぞれ質量，長さ，時間の単位です．
　距離が近い場合にはステップを細かくしないと正確ではありません．
ステップ自動調節付きの解法モジュールを採用するつもりです．


vanallen　バン・アレン帯に陽子が地磁気によって捕獲されることを示すもので
す．赤道上空から，ある運動エネルギー（30MeVが既定）の陽子を出発させます．
すると，地磁気に巻きついて螺旋運動しながら南北に振動し，振動範囲内に閉じ
込められる様子が見えます．地磁気は，地表から遠く離れた空間においては磁気
双極子により近似できるとしています．


wave　２つの波源からの波の合成．1点1点色を変化させての点の描画は負荷が
高いので，3GHzのAthlonでは，正方形であれば一辺150が限界に見えます．ど
んなカラーマップがあるかを見たいというのも作成の動機の一つです．
　山内さんからの有益なアドバイスに従って，イメージバッファに図を用意し
gputimageで描画する方式に変更しました．これでXの負荷が激減します．
そこで，サイズも大きくすることが可能となりました．

----------------------------------------------------------------------
